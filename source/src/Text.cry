chars = {}
chars['^'] = [[0,1,1,0,0,0,0,0],[0,1,1,1,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,1,1,1,1,0,0],[0,1,1,1,1,1,0,0],[0,1,1,1,1,0,0,0],[0,1,1,1,0,0,0,0],[0,1,1,0,0,0,0,0]]
chars['!'] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0],[0,0,1,1,1,0,1,0],[1,1,1,1,0,0,0,0],[1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['\''] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,0,1,0,0,0,0],[1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['"'] = [[0,0,0,0,0,0,0,0],[1,1,0,1,0,0,0,0],[1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,0,1,0,0,0,0],[1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['`'] = [[0,0,0,0,0,0,0,0],[0,1,1,1,0,0,0,0],[1,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,0,0,0,0],[1,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars[','] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,1],[0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['-'] = [[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['.'] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,0,0,0,0,1,1,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['/'] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0],[0,0,1,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['0'] = [[0,1,1,1,1,1,0,0],[1,1,1,1,1,1,1,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,1,0],[1,1,1,1,1,1,1,0],[0,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['1'] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['2'] = [[0,1,0,0,0,1,1,0],[1,1,0,0,1,1,1,0],[1,0,0,1,1,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,1,1,1,0,0,1,0],[0,1,1,0,0,0,1,0],[0,0,0,0,0,0,0,0]]
chars['3'] = [[0,1,0,0,0,1,0,0],[1,1,0,0,0,1,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,1,1,1,1,1,1,0],[0,1,1,0,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['4'] = [[1,1,1,1,1,0,0,0],[1,1,1,1,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0]]
chars['5'] = [[1,1,1,0,0,1,0,0],[1,1,1,0,0,1,1,0],[1,0,1,0,0,0,1,0],[1,0,1,0,0,0,1,0],[1,0,1,0,0,0,1,0],[1,0,1,1,1,1,1,0],[1,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['6'] = [[0,1,1,1,1,1,0,0],[1,1,1,1,1,1,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,1,0,1,1,1,1,0],[0,1,0,0,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['7'] = [[1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[1,0,0,0,1,1,1,0],[1,0,0,1,1,1,1,0],[1,0,1,1,1,1,1,0],[1,1,1,0,0,0,0,0],[1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['8'] = [[0,1,1,0,1,1,0,0],[1,1,1,1,1,1,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,1,1,1,1,1,1,0],[0,1,1,0,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['9'] = [[0,1,1,0,0,1,0,0],[1,1,1,1,0,1,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,1,1,1,1,1,1,0],[0,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars[':'] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,0,0,1,1,0],[0,1,1,0,0,1,1,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars[';'] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,0,1,1,0,1,0],[1,1,0,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['<'] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,1,1,0,0],[0,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0]]
chars['='] = [[0,0,0,0,0,0,0,0],[0,0,0,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['>'] = [[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,0],[0,0,1,1,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['?'] = [[0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[1,1,0,0,0,0,1,0],[1,0,0,0,1,0,1,0],[1,0,0,1,1,0,0,0],[1,1,1,1,0,0,0,0],[0,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['*'] = [[0,0,1,1,1,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,1,1,0,0,1],[1,0,1,0,0,1,0,1],[1,0,1,0,0,1,0,1],[1,0,1,0,0,1,0,1],[0,1,0,0,0,0,1,0],[0,0,1,1,1,1,0,0]]
chars['A'] = [[0,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[1,0,0,0,1,0,0,0],[1,0,0,0,1,0,0,0],[1,0,0,0,1,0,0,0],[1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]]
chars['B'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,1,1,1,1,1,1,0],[0,1,1,0,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['C'] = [[0,1,1,1,1,1,0,0],[1,1,1,1,1,1,1,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,1,0],[1,1,0,0,0,1,1,0],[0,1,0,0,0,1,0,0],[0,0,0,0,0,0,0,0]]
chars['D'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,1,0],[1,1,1,1,1,1,1,0],[0,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['E'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0]]
chars['F'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[1,0,0,1,0,0,0,0],[1,0,0,1,0,0,0,0],[1,0,0,1,0,0,0,0],[1,0,0,1,0,0,0,0],[1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['G'] = [[0,1,1,1,1,1,0,0],[1,1,1,1,1,1,1,0],[1,0,0,0,0,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,1,0,1,1,1,1,0],[0,1,0,1,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['H'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]]
chars['I'] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['J'] = [[0,0,0,0,1,1,0,0],[0,0,0,0,1,1,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['K'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,1,0,0,0,0],[0,0,1,1,1,0,0,0],[0,1,1,0,1,1,0,0],[1,1,0,0,0,1,1,0],[1,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0]]
chars['L'] = [[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0]]
chars['M'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,1,1,0,0,0,0,0],[0,0,1,1,0,0,0,0],[0,1,1,0,0,0,0,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]]
chars['N'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,1,1,0,0,0,0,0],[0,0,1,1,0,0,0,0],[0,0,0,1,1,0,0,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]]
chars['O'] = [[0,1,1,1,1,1,0,0],[1,1,1,1,1,1,1,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,1,0],[1,1,1,1,1,1,1,0],[0,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['P'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[1,0,0,0,1,0,0,0],[1,0,0,0,1,0,0,0],[1,0,0,0,1,0,0,0],[1,1,1,1,1,0,0,0],[0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['Q'] = [[0,1,1,1,1,1,0,0],[1,1,1,1,1,1,1,0],[1,0,0,0,0,0,1,0],[1,0,0,0,1,0,1,0],[1,0,0,0,1,1,1,0],[1,1,1,1,1,1,0,0],[0,1,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]
chars['R'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[1,0,0,0,1,0,0,0],[1,0,0,0,1,0,0,0],[1,0,0,0,1,1,0,0],[1,1,1,1,1,1,1,0],[0,1,1,1,0,0,1,0],[0,0,0,0,0,0,0,0]]
chars['S'] = [[0,1,1,0,0,1,0,0],[1,1,1,1,0,1,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,0,0,1,0,0,1,0],[1,1,0,1,1,1,1,0],[0,1,0,0,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['T'] = [[1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['U'] = [[1,1,1,1,1,1,0,0],[1,1,1,1,1,1,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]]
chars['V'] = [[1,1,1,1,0,0,0,0],[1,1,1,1,1,0,0,0],[0,0,0,0,1,1,0,0],[0,0,0,0,0,1,1,0],[0,0,0,0,1,1,0,0],[1,1,1,1,1,0,0,0],[1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['W'] = [[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,0,0,1,1,0,0],[1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]]
chars['X'] = [[1,1,0,0,0,1,1,0],[1,1,1,0,1,1,1,0],[0,0,1,1,1,0,0,0],[0,0,1,1,1,0,0,0],[1,1,1,0,1,1,1,0],[1,1,0,0,0,1,1,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['Y'] = [[1,1,1,0,0,0,0,0],[1,1,1,1,0,0,0,0],[0,0,0,1,1,1,1,0],[0,0,0,1,1,1,1,0],[1,1,1,1,0,0,0,0],[1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['Z'] = [[1,1,0,0,0,1,1,0],[1,0,0,0,1,1,1,0],[1,0,0,1,1,0,1,0],[1,0,1,1,0,0,1,0],[1,1,1,0,0,0,1,0],[1,1,0,0,0,1,1,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['('] = [[1,1,1,1,1,0,0,0],[1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]
chars['&'] = [[0,0,0,1,1,1,1,0],[0,0,0,0,1,1,1,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,0,0,0,0,1,1,0],[0,0,0,0,0,0,0,0]]
chars[')'] = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]]

class Text:
	def __init__(self, chars):
		self.chars = chars
		self.colors = {}
		self.cache = {}
	
	def render(self, color, text):
		key = str(color) + '|' + text
		img = self.cache.get(key)
		if img == None:
			colorkey = str(color)
			colorlookup = self.colors.get(colorkey)
			if colorlookup == None:
				colorlookup = self.makeColorLookup(color)
				self.colors[colorkey] = colorlookup
			img = pygame.Surface((len(text) * 8, 8), pygame.SRCALPHA)
			
			x = 0
			for char in text:
				letter = colorlookup.get(char.upper())
				if letter != None:
					img.blit(letter, (x, 0))
				x += 8
			self.cache[key] = img

		return img
	
	def makeColorLookup(self, color):
		lookup = {}
		pixel = pygame.Surface((1, 1))
		pixel.fill(color)
		for key in self.chars.keys():
			grid = self.chars[key]
			img = pygame.Surface((8, 8), pygame.SRCALPHA)
			y = 0
			while y < 8:
				x = 0
				while x < 8:
					if grid[x][y] == 1:
						img.blit(pixel, (x, y))
					x += 1
				y += 1
			lookup[key] = img
		return lookup

_textEngine = Text(chars)

def renderText(color, text):
	return _textEngine.render(color, text)

# Because I keep accidentally using this one
getText = renderText


def clearTextCache(r, g, b):
	_textEngine.colors[str((r, g, b))] = {}
